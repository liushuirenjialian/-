<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="utf-8">
    <title>游戏截图</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery.min.js"></script>
</head>

<body>
    <div class="body">
        <div class="global-nav container">
            <ul>
                <li class="nav-home"><a href="index.html">官网首页</a></li>
                <li class="nav-news"><a href="youxizixun.html?tag=news">游戏资讯</a></li>
                <li class="nav-tactic"><a href="gonglueziliao.html?tag=gonglueziliao">游戏攻略</a></li>
                <li class="nav-download"><a href="article.html?tag=download&postId=4998">下载专区</a></li>
                <li class="nav-service"><a href="#">客服中心</a></li>
                <li class="nav-bbs"><a href="http://bbs.open.qq.com/forum.php?mod=forumdisplay&action=list&fid=3542#groupnav">论坛交流</a></li>
            </ul>
        </div>
        <div class="container">
            <div class="row">
                <div class="w770">
                    <div class="panel panel-style2">
                        <div class="panel-heading">
                            <h3 class="panel-title">游戏截图</h3>
                            <div class="tag">
                                你当前的位置：<a href="index.html"> 炼神官网首页 </a> > 游戏截图
                            </div>
                        </div>
                        <div class="panel-body height-fixed">
                            <ul id="post-context">
                            </ul>
                            <div id="pagesNav">
                                <span id="pageP">&lt;&lt;</span>
                                <ul id="pagesA">
                                </ul>
                                <span id="pageN">&gt;&gt;</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w220">
                    <div class="panel panel-style3">
                        <div class="panel-heading">
                            <h3 class="panel-title">炼神官方网站</h3>
                        </div>
                        <div class="panel-body text-center">
                            <div class="mb10">
                                <a href="#"><img src="img/btn-download-android.png" width="186" height="50" alt="安卓版炼神下载"></a>
                            </div>
                            <div class="mb10">
                                <a href="#"><img src="img/btn-download-ios.png" width="186" height="50" alt="苹果版炼神暂无下载"></a>
                            </div>
                            <div class="mb10">
                                <a href="#"><img src="img/btn-gift.png" width="186" height="50" alt="最新礼包领取"></a>
                            </div>
                            <div>
                                <a href="#"><img src="img/btn-test.png" width="90" height="50" alt="公测助手"></a>
                                <a href="#"><img src="img/btn-newbye.png" width="90" height="50" alt="新手上路"></a>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-style3">
                        <div class="panel-heading">
                            <h3 class="panel-title">热门专题</h3>
                        </div>
                        <div class="panel-body">
                            <div class="text-center">
                                <a href="#"><img src="img/topic-1.jpg" width="148" height="98" alt="战士职业详解"></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="global-footer">
            <p>京ICP备11034336号-1 网络文化经营许可证-文网文[2011]0744-272号 京公网安备11010502022348</p>
            <p>Copyright © 2012 Hoolai Game.All Rights Reserved </p>
            <p>互爱互动（北京）科技有限公司版权所有</p>
        </div>
    </div>
    <script src="js/youxijietu.js"></script>
</body>
<script>
window.onload = function() {
    nextPage({
        pagesMain: "post-context",
        pagesNav: "pagesA",
        curNum: 10,
        pages: "pages",
        activeClass: "cur",
        ini: "0", //初始化显示第几页 0为第一页
        prevBtn: "pageP",
        nextBtn: "pageN"

    })

    function nextPage(nextPage) {
        var pages = document.getElementById(nextPage.pagesMain); //分页内容
        var pagesNav = document.getElementById(nextPage.pagesNav); //分页数
        var prev = document.getElementById(nextPage.prevBtn); //上一页
        var next = document.getElementById(nextPage.nextBtn); //下一页
        var curNum = nextPage.curNum; //当前页
        var leng = Math.ceil(pages.children.length / curNum); //页数
        var pageList = ""; //自动生成页码 数组
        var num = 0; //当前的index
        //自动生成页码li
        for (var i = 0; i < leng; i++) {
            pageList += "\<li\>" + parseInt(i + 1) + "\<\/li\>";
        };

        //给ul加上 页码
        pagesNav.innerHTML = pageList;

        //默认第一页 给第一页页码加上高亮
        //alert(pagesNav.children[0].tagName);
        if ((typeof pagesNav.children[0]) != "undefined") {
            pagesNav.children[0].className = nextPage.activeClass;
            //给点击页码加上 高亮class 返回index
            for (var i = 0; i < pagesNav.children.length; i++) {
                pagesNav.children[i].index = i;
                pagesNav.children[i].onclick = function() {
                    for (var i = 0; i < pagesNav.children.length; i++) {
                        pagesNav.children[i].className = "";
                    }
                    this.className = nextPage.activeClass;
                    num = this.index;
                    ini(num) // 传入当前页的index 用ini方法显示点击到的组
                }
            }
        }

        //上一页
        prev.onclick = function() {
                if (num == 0) {
                    return false;
                } else {
                    console.log(num)
                    for (var i = 0; i < pagesNav.children.length; i++) {
                        pagesNav.children[i].className = "";
                    }
                    pagesNav.children[num - 1].className = nextPage.activeClass;
                    ini(num - 1)
                    return num--;
                }
            }
            //下一页
        next.onclick = function() {
                if (num == leng - 1) {
                    return false;
                } else {
                    console.log(leng)
                    for (var i = 0; i < pagesNav.children.length; i++) {
                        pagesNav.children[i].className = "";
                    }
                    pagesNav.children[num + 1].className = nextPage.activeClass;
                    ini(num + 1)
                    return num++;
                }
            }
            //初始化显示第一页内容 隐藏后面
        function ini(iniBum) {
            var iniBum = iniBum;
            for (var j = 0; j < leng; j++) {
                for (var i = 0; i < curNum; i++) {
                    if (pages.children[(j * curNum) + i] == undefined) {
                        continue;
                    }
                    pages.children[(j * curNum) + i].style.display = "none";
                }
            }
            for (var i = 0; i < curNum; i++) {
                if (pages.children[(iniBum * curNum) + i] == undefined) {
                    continue;
                }
                pages.children[(iniBum * curNum) + i].style.display = "block";
            }
        }
        //初始化显示第一页内容 隐藏后面
        ini(nextPage.ini)
    }
}
</script>
</html>
